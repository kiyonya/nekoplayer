import CONFIG from "../config/config";



export default async function request(config) {
  if(!config || !config.url){return}
  const method = config.method !== undefined ? config.method : 'get';
  const api = CONFIG.WebRequestApi;
  const url = api + config.url 
  try {
    let fetchCfg = new Object();
    fetchCfg.method = method;
    if (method == "post") {
      fetchCfg.body = JSON.stringify(
        config.body !== undefined ? config.body : {}
      );
      fetchCfg.headers =
        config.header !== undefined
          ? config.header
          : {
              "Content-Type": "application/json",
            };
    } else if (method == "get") {
      fetchCfg.headers =
        config.header !== undefined
          ? config.header
          : {
              "Content-Type": "application/json",
            };
    }

    const res = await fetch(url, fetchCfg);
    const data = await res.json();


      return data;

  } catch (error) {}
}
